<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TreeLab — Affichage graphique</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#020617,#0f172a);
  color:white;
  padding:24px;
}
.card{
  max-width: 1200px;
  margin: 0 auto;
  background: rgba(2,6,23,0.85);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 18px;
  padding: 18px;
  box-shadow: 0 0 30px rgba(0,0,0,0.45);
}
h2{ margin:0 0 12px 0; color:#38bdf8; }
.svg-wrap{
  margin-top: 18px;
  overflow:auto;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  padding: 12px;
}
.back{
  display:inline-block;
  margin-top:12px;
  color:#38bdf8;
  text-decoration:none;
  font-weight:bold;
}
</style>
</head>

<body>
<div class="card">
<h2>{{ name }}</h2>

<div class="svg-wrap">
<svg width="{{ w }}" height="{{ h }}" viewBox="0 0 {{ w }} {{ h }}" xmlns="http://www.w3.org/2000/svg">

{% for e in edges %}
<line x1="{{ e.x1 }}" y1="{{ e.y1 }}" x2="{{ e.x2 }}" y2="{{ e.y2 }}"
      stroke="white" stroke-opacity="0.35" stroke-width="2"/>
{% endfor %}

{% for n in nodes %}
<circle cx="{{ n.x }}" cy="{{ n.y }}" r="26"
        fill="{% if n.pos %}hsl({{n.pos*40}},90%,60%){% else %}#38bdf8{% endif %}"/>

<text x="{{ n.x }}" y="{{ n.y+5 }}" text-anchor="middle"
      font-size="15" fill="black" font-weight="bold">
{{ n.label }}{% if n.pos %} ({{ n.pos }}){% endif %}
</text>
{% endfor %}

</svg>
</div>

<a href="/show_graph" class="back">← Retour</a>
</div>
</body>
</html>
