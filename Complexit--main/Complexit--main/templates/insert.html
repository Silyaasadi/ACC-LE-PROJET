<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Insertion</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#020617,#0f172a);
  color:white;
  padding:28px;
}

.card{
  max-width: 1100px;
  margin:auto;
  background: rgba(2,6,23,0.85);
  border-radius: 22px;
  padding: 24px;
  box-shadow: 0 0 40px rgba(0,0,0,0.55);
}

h2{color:#38bdf8;margin-bottom:18px;}

.row{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap:12px;
  padding:14px 18px;
  border-radius:16px;
  background: rgba(255,255,255,0.05);
  margin-bottom:14px;
}

.row b{font-size:18px;}

input{
  padding:10px;
  border-radius:10px;
  border:none;
  width:120px;
}

button{
  background:#22c55e;
  border:none;
  padding:10px 22px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
  transition:.2s;
}

button:hover{background:white; transform:scale(1.05);}

.show-btn{background:#38bdf8;color:black;}

.msg{
  margin:18px 0;
  font-weight:bold;
  color:#a7f3d0;
}

svg{
  margin-top:20px;
  background:#020617;
  border-radius:20px;
  padding:20px;
}
</style>
</head>

<body>
<div class="card">
<h2>‚ûï Ins√©rer un n≈ìud</h2>

{% for n in names %}
<div class="row">

<!-- insertion -->
<form method="post">
  <b>üå≥ {{n}}</b>
  <input type="hidden" name="name" value="{{n}}">
  Parent : <input name="parent" required>
  Nouveau : <input name="new" required>
  <button>Ins√©rer</button>
</form>

<!-- affichage -->
<form method="post">
  <input type="hidden" name="name" value="{{n}}">
  <input type="hidden" name="show" value="1">
  <button class="show-btn">üëÅ Afficher</button>
</form>

</div>
{% endfor %}

<div class="msg">{{msg}}</div>

{% if nodes %}
<svg width="{{w}}" height="{{h}}">
{% for e in edges %}
<line x1="{{e.x1}}" y1="{{e.y1}}" x2="{{e.x2}}" y2="{{e.y2}}" stroke="white"/>
{% endfor %}
{% for n in nodes %}
<circle cx="{{n.x}}" cy="{{n.y}}" r="20" fill="#38bdf8"/>
<text x="{{n.x}}" y="{{n.y+5}}" text-anchor="middle" fill="black" font-weight="bold">
{{n.label}}
</text>
{% endfor %}
</svg>
{% endif %}

<a href="/menu" style="color:#38bdf8;font-weight:bold;">‚Üê Retour menu</a>
</div>
</body>
</html>
